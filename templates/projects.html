{% extends "base.html" %}
{% block title %}Our Recent Projects{% endblock %}

{% block content %}

<!-- PAGE HEADER -->
<section class="bg-[var(--brand-green-light)]/40 py-20 fade-section">
  <div class="max-w-5xl mx-auto px-6 text-center">
    <h1 class="text-4xl font-bold mb-4">Recent Projects</h1>
    <p class="text-gray-700 text-lg">
      A few homes we’ve helped transform right here in the Lehigh Valley.
    </p>
  </div>
</section>

<!-- PROJECT CARDS -->
<section class="py-20 bg-white fade-section">
  <div class="max-w-6xl mx-auto px-6 grid md:grid-cols-2 gap-12">

    <!-- Project 1 -->
    <div class="perspective flip-card cursor-pointer">
      <div class="flip-inner relative w-full h-[320px] transition-transform duration-700 transform-style-preserve-3d">

        <!-- Front (Before) -->
        <div class="absolute inset-0 backface-hidden rounded-xl overflow-hidden shadow-lg">
          <img src="{{ url_for('static', filename='images/johnston-before.png') }}"
               class="w-full h-full object-cover">
          <div class="absolute inset-0 bg-black/40 flex items-end">
            <p class="text-white font-semibold p-4">
              Before – 386 Johnston Dr, Bethlehem PA
            </p>
          </div>
        </div>

        <!-- Back (After) -->
        <div class="absolute inset-0 backface-hidden rotate-y-180 rounded-xl overflow-hidden shadow-lg">
          <img src="{{ url_for('static', filename='images/johnston-after.png') }}"
               class="w-full h-full object-cover">
          <div class="absolute inset-0 bg-black/40 flex items-end">
            <p class="text-white font-semibold p-4">
              After – 386 Johnston Dr, Bethlehem PA
            </p>
          </div>
        </div>

      </div>
    </div>


    <!-- Project 2 -->
    <div class="perspective flip-card cursor-pointer">
      <div class="flip-inner relative w-full h-[320px] transition-transform duration-700 transform-style-preserve-3d">

        <!-- Front (Before) -->
        <div class="absolute inset-0 backface-hidden rounded-xl overflow-hidden shadow-lg">
          <img src="{{ url_for('static', filename='images/pleasant-before.png') }}"
               class="w-full h-full object-cover">
          <div class="absolute inset-0 bg-black/40 flex items-end">
            <p class="text-white font-semibold p-4">
              Before – 1660 Pleasant View Rd, Bethlehem PA
            </p>
          </div>
        </div>

        <!-- Back (After) -->
        <div class="absolute inset-0 backface-hidden rotate-y-180 rounded-xl overflow-hidden shadow-lg">
          <img src="{{ url_for('static', filename='images/pleasant-after.png') }}"
               class="w-full h-full object-cover">
          <div class="absolute inset-0 bg-black/40 flex items-end">
            <p class="text-white font-semibold p-4">
              After – 1660 Pleasant View Rd, Bethlehem PA
            </p>
          </div>
        </div>

      </div>
    </div>

  </div>
</section>


<!-- Flip Card Styles -->
<style>
.perspective {
  perspective: 1200px;
}

.transform-style-preserve-3d {
  transform-style: preserve-3d;
}

.backface-hidden {
  backface-visibility: hidden;
}

.rotate-y-180 {
  transform: rotateY(180deg);
}

/* Desktop hover behavior */
@media (hover: hover) {
  .flip-card:hover .flip-inner {
    transform: rotateY(180deg);
  }
}

/* Mobile tap behavior */
.flip-card.flipped .flip-inner {
  transform: rotateY(180deg);
}
</style>

<!-- Tap-to-flip script for mobile -->
<script>
document.querySelectorAll('.flip-card').forEach(card => {
  card.addEventListener('click', () => {
    card.classList.toggle('flipped');
  });
});
</script>

{% endblock %}
